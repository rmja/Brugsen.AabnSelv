<h3 class="text-center mt-3 mb-3">Tilmelding til <strong>ÅBN SELV</strong></h3>

<form submit.trigger="submit()">
  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control ${nameIsValid ? 'is-valid' : ''}"
      value.bind="name"
      name="name"
    />
    <label>Navn</label>
  </div>

  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control ${addressIsValid ? 'is-valid' : ''} ${addressIsInvalid ? 'is-invalid' : ''}"
      value.bind="address"
      name="address"
      dawa-autocomplete="id.bind: addressId"
    />
    <label>Adresse</label>
  </div>

  <div class="form-floating mb-3">
    <input
      type="email"
      class="form-control ${emailIsValid ? 'is-valid' : ''} ${emailIsUsed ? 'is-invalid' : ''}"
      value.bind="email"
      name="email"
    />
    <label>Email</label>
    <div class="invalid-feedback">
      En bruger med denne email eksisterer allerede.
    </div>
  </div>

  <div class="form-floating mb-3">
    <input
      type="tel"
      class="form-control ${phoneIsValid ? 'is-valid' : ''}"
      intl-tel-input.bind="phone"
      name="phone"
    />
    <label>Telefon</label>
  </div>

  <div class="form-floating mb-3">
    <input
      type="number"
      class="form-control ${membershipNumberIsValid ? 'is-valid' : ''}"
      value.bind="membershipNumber"
      step="1"
      name="coopMembershopNumber"
    />
    <label>COOP medlemsnummer</label>
  </div>

  <div class="input-group mb-3">
    <div class="form-floating">
      <input
        type="number"
        class="form-control ${cardNumberIsValid ? 'is-valid' : ''} ${cardNumberIsUsed ? 'is-invalid' : ''}"
        value.bind="cardNumber"
        step="1"
        name="laesoeCardNumber"
      />
      <label>Ø-kort</label>
      <div class="invalid-feedback">
        En bruger med dette ø-kortnummer eksisterer allerede.
      </div>
    </div>
    <button
      class="btn btn-${colors[cardColor].colorClass} dropdown-toggle"
      type="button"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      ${colors[cardColor].name}
    </button>
    <ul class="dropdown-menu dropdown-menu-end">
      <li repeat.for="color of colors | values">
        <a
          class="dropdown-item ${color.colorClass}"
          click.trigger="setColor(color.id)"
          >${color.name}</a
        >
      </li>
    </ul>
  </div>

  <div class="form-check mb-3">
    <label class="form-check-label">
      <input
        class="form-check-input"
        type="checkbox"
        checked.bind="gdprAccepted"
      />
      Jeg accepterer at mine data bliver gemt af Brugsen Vesterø Havn til brug
      for
      <strong>ÅBN SELV</strong>.
    </label>
  </div>
  <div class="form-check mb-3">
    <label class="form-check-label">
      <input
        class="form-check-input"
        type="checkbox"
        checked.bind="termsAccepted"
      />
      Jeg har læst og er indforstået med betingelserne for brug af
      <strong>ÅBN SELV</strong>.
    </label>
  </div>
  <button
    class="btn btn-secondary offset-sm-4 col-sm-4 col-12 mt-3"
    type="submit"
    disabled.bind="!canSubmit || busy"
  >
    Tilmeld ÅBN SELV
  </button>
</form>
